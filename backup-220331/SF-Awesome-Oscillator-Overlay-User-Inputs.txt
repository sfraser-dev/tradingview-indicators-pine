//@version=5

// Appearing in its own indicaotr pane?
// 1) Click the 3 dots (for more settings)
// 2) Select "Move to" then "existing pane above" (pane above is the normal chart)
// 3) Extra set of scales for the indicator?
//    3.1) Right-click on scales and select "merge all scales into one" then "on the right"
indicator(title="AO Overlay", shorttitle="AO Overlay")

length1 = input.int(5, "Length 1", minval = 1, group="First Moving Average")
maType1 = input.string("SMA", title="Type 1", options=["SMA", "EMA"])
src1 = input(close, title="Source 1")

length2 = input.int(34, "Length 2", minval = 1, group="Second Moving Average")
maType2 = input.string("SMA", title="Type 2", options=["SMA", "EMA"])
src2 = input(close, title="Source 2")

ma_select(source, length, type) =>
    switch type
        "SMA" => ta.sma(source, length)
        "EMA" => ta.ema(source, length)


is_ma1_SMA = maType1 == "SMA"
is_ma2_SMA = maType2 == "SMA"

plot(series=ma_select(src1, length1, is_ma1_SMA ? "SMA" : "EMA"), title="Moving Average 1", color=color.yellow, linewidth=2, style=plot.style_line)
plot(series=ma_select(src2, length2, is_ma2_SMA ? "SMA" : "EMA"), title="Moving Average 2", color=color.blue, linewidth=2, style=plot.style_line)